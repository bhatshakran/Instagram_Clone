(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{50:function(e,t,a){e.exports=a.p+"static/media/Rocket.cfa70481.gif"},56:function(e,t,a){e.exports=a(91)},61:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);var n,r,l,c,o,s=a(1),m=a.n(s),i=a(30),u=a.n(i),d=(a(61),a(3)),p=a(10),f=a(2),g=a.n(f),b=a(5),h=a(12),x=a(6),v=a(7),E=a(4),w=a.n(E),y=Object(v.b)("/cloudinary",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),a.append("upload_preset","insta_clone"),delete w.a.defaults.headers.common["x-auth-token"],n={headers:{"Content-Type":"application/json"}},"https://api.cloudinary.com/v1_1/duuo1ctgy/image/upload",e.prev=6,e.next=9,w.a.post("https://api.cloudinary.com/v1_1/duuo1ctgy/image/upload",a,n);case 9:return r=e.sent,e.abrupt("return",r.data);case 13:e.prev=13,e.t0=e.catch(6),console.log(e.t0),console.log("Failed to upload");case 17:case"end":return e.stop()}},e,null,[[6,13]])}));return function(t){return e.apply(this,arguments)}}()),j=Object(v.b)("/api/posts",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,r,l,c,o,s;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},n=function(e){e?w.a.defaults.headers.common["x-auth-token"]=e:delete w.a.defaults.headers.common["x-auth-token"]},localStorage.token&&n(localStorage.token),r=t.title,l=t.body,c=t.link,o=JSON.stringify({title:r,body:l,link:c}),console.log(o),e.prev=6,e.next=9,w.a.post("/api/posts",o,a);case 9:return s=e.sent,e.abrupt("return",s.data);case 13:e.prev=13,e.t0=e.catch(6),console.error(e.t0),console.log("Failed");case 17:case"end":return e.stop()}},e,null,[[6,13]])}));return function(t){return e.apply(this,arguments)}}()),O=Object(v.b)("getposts",Object(b.a)(g.a.mark(function e(){var t,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){e?w.a.defaults.headers.common["x-auth-token"]=e:delete w.a.defaults.headers.common["x-auth-token"]},localStorage.token&&t(localStorage.token),e.prev=2,e.next=5,w.a.get("/api/posts");case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),console.log("Failed to get posts!");case 13:case"end":return e.stop()}},e,null,[[2,9]])}))),N=Object(v.b)("/likeOrUnlike/:id",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("like"!==t.type){e.next=15;break}return e.prev=1,console.log("type liked: from redux"),e.next=5,w.a.put("/api/posts/like/".concat(t.id));case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),console.log("Failed to like the post!");case 13:e.next=28;break;case 15:if("unlike"!==t.type){e.next=28;break}return e.prev=16,console.log("type unliked: from redux"),e.next=20,w.a.put("/api/posts/unlike/".concat(t.id));case 20:return n=e.sent,e.abrupt("return",n.data);case 24:e.prev=24,e.t1=e.catch(16),console.error(e.t1),console.log("Failed to unlike the post!");case 28:case"end":return e.stop()}},e,null,[[1,9],[16,24]])}));return function(t){return e.apply(this,arguments)}}()),k=Object(v.b)("getLikes",function(){var e=Object(b.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/api/posts/like/".concat(t));case 3:return a=e.sent,e.abrupt("return",a.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),console.log("Failed to get likes of the post!");case 11:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()),S=Object(v.c)({name:"posts",initialState:{url:"",loading:!1,message:"",post:{},posts:[],alertMessage:"",likesOfPost:null},reducers:{clearAlertMsg:function(e){e.alertMessage=""}},extraReducers:(n={},Object(x.a)(n,y.pending,function(e){e.loading=!0}),Object(x.a)(n,y.fulfilled,function(e){e.message="pic uploaded"}),Object(x.a)(n,j.pending,function(e){e.loading=!0}),Object(x.a)(n,j.fulfilled,function(e,t){e.loading=!1,e.message="Post created",e.alertMessage="Post uploaded",e.post={name:t.payload.name,title:t.payload.title,body:t.payload.body,image:t.payload.image}}),Object(x.a)(n,O.pending,function(e){e.loading=!0}),Object(x.a)(n,O.fulfilled,function(e,t){e.message="posts fetched",e.posts=t.payload.posts,e.user=t.payload.user,e.loading=!1}),Object(x.a)(n,N.fulfilled,function(e,t){e.loading=!1}),Object(x.a)(n,k.fulfilled,function(e,t){e.loading=!1,e.likesOfPost=Object.values(t.payload)}),n)}),C=S.actions.clearAlertMsg,_=(S.reducer,a(19)),F=a(49),M=Object(v.b)("/createcomment",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,r,l,c,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.id,n=t.comment,r=function(e){e?w.a.defaults.headers.common["x-auth-token"]=e:delete w.a.defaults.headers.common["x-auth-token"]},localStorage.token&&r(localStorage.token),l={headers:{"Content-Type":"application/json"}},c=JSON.stringify(n),e.prev=5,e.next=8,w.a.post("/api/posts/comment/".concat(a.postid),c,l);case 8:return o=e.sent,console.log("Success: Comment added"),e.abrupt("return",o.data);case 13:e.prev=13,e.t0=e.catch(5),console.error(e.t0),console.log("Comment creation failed");case 17:case"end":return e.stop()}},e,null,[[5,13]])}));return function(t){return e.apply(this,arguments)}}()),L=Object(v.b)("/getcomments",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(e){e?w.a.defaults.headers.common["x-auth-token"]=e:delete w.a.defaults.headers.common["x-auth-token"]},localStorage.token&&a(localStorage.token),e.prev=2,e.next=5,w.a.get("/api/posts/comment/".concat(t));case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0),console.log("Get comments failed!");case 13:case"end":return e.stop()}},e,null,[[2,9]])}));return function(t){return e.apply(this,arguments)}}()),P=Object(v.b)("/deletecomment",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t.comment_id.id,n=t.id.p_id,console.log(a,n),e.next=6,w.a.delete("/api/posts/post/".concat(n,"/comment/").concat(a));case 6:return r=e.sent,e.abrupt("return",r.data);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),console.log("Deleting the comment failed!");case 14:case"end":return e.stop()}},e,null,[[0,10]])}));return function(t){return e.apply(this,arguments)}}()),B=Object(v.c)({name:"comments",initialState:{comments:[],loading:!1,message:""},reducers:{},extraReducers:(r={},Object(x.a)(r,M.pending,function(e){e.loading=!0}),Object(x.a)(r,M.fulfilled,function(e,t){e.loading=!1,e.comments=t.payload,e.message="Comment added"}),Object(x.a)(r,L.pending,function(e){e.loading=!0}),Object(x.a)(r,L.fulfilled,function(e,t){e.loading=!1,e.comments=t.payload}),Object(x.a)(r,P.pending,function(e){e.loading=!0}),Object(x.a)(r,P.fulfilled,function(e,t){e.loading=!1,e.message="Comment Deleted!"}),r)}),A=(B.reducer,function(e){var t=e.postid,a=Object(d.b)(),n=Object(s.useState)(""),r=Object(h.a)(n,2),l=r[0],c=r[1],o=Object(s.useState)([]),i=Object(h.a)(o,2),u=i[0],p=i[1],f=Object(s.useRef)(null),g=Object(s.useRef)(),b=new F.a;b.on("emoji",function(e){var t=[].concat(Object(_.a)(l),[e.emoji]).toString().replace(/,/g,"");c(t)});return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"flex items-center justify-start gap-0 mt-3 border-t h-18"},m.a.createElement("div",{className:"w-10 cursor-pointer"},m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",ref:f,onClick:function(){b.pickerVisible?b.hidePicker():b.showPicker(f.current)}},m.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),m.a.createElement("input",{placeholder:"Add a comment...",onChange:function(e){0===l.length?p("No text. Please write something!"):p(""),c(e.target.value)},value:l,type:"text",ref:g,className:"w-full h-12 mr-1 focus:outline-none"}),m.a.createElement("button",{onClick:function(){0===l.length?console.log("cannot post"):(console.log("posting"),a(M({id:{postid:t},comment:{text:l}})))},className:"mr-3 text-blue-300 focus:outline-none hover:text-blue-500"},"Post")),0!==u.length?m.a.createElement("div",{className:"text-xs text-red-400"},u):"")}),z=a(8),I=function(e){var t=e.image,a=e.name,n=e.title,r=e.body,l=e.postid,c=e.id,o=e.pp,i=Object(s.useState)(),u=Object(h.a)(i,2),p=u[0],f=u[1],x=Object(d.c)(function(e){return e.posts.user._id}),v=Object(d.b)(),E=Object(s.useRef)(),w=Object(s.useState)(!1),y=Object(h.a)(w,2),j=y[0],O=y[1],S=Object(s.useState)(),C=Object(h.a)(S,2),_=C[0],F=C[1],M=function(){var e=Object(b.a)(g.a.mark(function e(){var t,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(k(l));case 2:return t=e.sent,a=t.payload,f(a.length),e.abrupt("return",a);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(b.a)(g.a.mark(function e(){var t,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:return t=e.sent,a=t.filter(function(e){return e.user.toString()===x}),e.abrupt("return",{likes:t,myLike:a});case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return function(){var e=Object(b.a)(g.a.mark(function e(){var t,a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!_){e.next=6;break}return e.next=3,L();case 3:t=e.sent,a=t.myLike,_&&null!==E.current&&(a.length>=1?(E.current.classList.remove("hollow"),E.current.classList.add("filled")):(E.current.classList.remove("filled"),E.current.classList.add("hollow")));case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()(),Object(s.useEffect)(Object(b.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(F(!0),!_){e.next=4;break}return e.next=4,M();case 4:return e.abrupt("return",function(){F(!1)});case 5:case"end":return e.stop()}},e)})),[]),m.a.createElement("div",{className:"pb-4 mb-4 border border-gray-200 rounded-sm shadow-sm postcard"},m.a.createElement("div",{className:"grid grid-cols-5 pt-1 border-b top"},m.a.createElement("div",{className:"mx-3"},m.a.createElement("img",{src:o,alt:"",className:"w-12 h-12 rounded-full"})),m.a.createElement("div",{className:"col-start-2 col-end-6"},m.a.createElement("h4",null,m.a.createElement(z.b,{to:"/user/".concat(c)},m.a.createElement("strong",null,a))),m.a.createElement("h5",null,m.a.createElement("small",null,n)))),m.a.createElement("div",{className:"medium"},m.a.createElement("img",{src:t,alt:"",className:"mx-auto md:mt-2 fill"})),m.a.createElement("div",{className:"pt-2 maincontainer"},m.a.createElement("div",{className:"flex items-center gap-1 ml-3 icons"},m.a.createElement("div",{className:"cursor-pointer ",onClick:function(){Object(b.a)(g.a.mark(function e(){var t,a,n,r,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L();case 2:if(t=e.sent,a=t.myLike,n=t.likes,0!==a.length){e.next=15;break}return console.log("liking this post now"),r={id:l,type:"like"},e.next=10,v(N(r));case 10:E.current.classList.remove("hollow"),E.current.classList.add("filled"),f(n.length+1),e.next=22;break;case 15:return console.log("unliking now"),c={id:l,type:"unlike"},e.next=19,v(N(c));case 19:E.current.classList.remove("filled"),E.current.classList.add("hollow"),f(n.length-1);case 22:case"end":return e.stop()}},e)}))()}},m.a.createElement("div",{ref:E,className:"w-6 h-6"})),m.a.createElement("div",{className:"cursor-pointer comment",onClick:function(){window.scrollTo(0,window.scrollY+50),O(!j)}},m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},m.a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"}))),m.a.createElement("div",{className:"share"},m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",className:"feather feather-send"},m.a.createElement("line",{x1:"22",y1:"2",x2:"11",y2:"13"}),m.a.createElement("polygon",{points:"22 2 15 22 11 13 2 9 22 2"})))),m.a.createElement("div",{className:"mt-2 ml-3 text-sm font-medium"},"Liked by ",p," people"),m.a.createElement("div",{className:"flex items-center gap-2 mt-3 ml-3 text-sm"},m.a.createElement("strong",null,a),m.a.createElement("p",null,r)),m.a.createElement("div",{className:"ml-4 text-gray-500 "},m.a.createElement(z.b,{to:"/viewcomments/".concat(l)},"View all comments")),m.a.createElement("div",null,j?m.a.createElement(A,{postid:l}):"")))},T=a(50),R=a.n(T),V=function(){return m.a.createElement("div",null,m.a.createElement("img",{src:R.a,alt:""}))},J=function(){var e=Object(d.c)(function(e){return e.posts.posts}),t=Object(d.c)(function(e){return e.posts.loading}),a=Object(d.b)();return Object(s.useEffect)(function(){a(O())},[]),t?m.a.createElement("div",{className:"flex items-center justify-center h-screen "},m.a.createElement(V,null)):m.a.createElement("div",{className:"min-h-screen mx-auto mt-5 maincontainer"},Object.values(e).map(function(e){return m.a.createElement(I,{image:e.image,name:e.name,body:e.body,title:e.title,postid:e._id,lykes:e.likes,id:e.postedBy,pp:e.userpp,key:e._id})}))},U=a(27),W=a(52),D=a(51),Z=a(37),q=Object(v.b)("/api/auth",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,r,l,c,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},n=t.email,r=t.password,l=JSON.stringify({email:n,password:r}),e.next=5,w.a.post("/api/auth",l,a);case 5:return c=e.sent,o={data:c.data,values:t},e.abrupt("return",o);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),H=Object(v.b)("getcurrentuser",Object(b.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t={headers:{"Content-Type":"application/json"}},a=function(e){e?w.a.defaults.headers.common["x-auth-token"]=e:delete w.a.defaults.headers.common["x-auth-token"]},localStorage.token&&a(localStorage.token),e.next=6,w.a.get("/api/auth/currentuser",t);case 6:return n=e.sent,e.abrupt("return",n.data);case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0),console.log("Could not fetch the current user details!");case 14:case"end":return e.stop()}},e,null,[[0,10]])}))),G=Object(v.c)({name:"auth",initialState:{loading:!0,token:localStorage.getItem("token")?localStorage.getItem("token"):"",isAuthenticated:!1,user:localStorage.getItem("user")?localStorage.getItem("user"):"",message:""},reducers:{logoutUser:function(e){localStorage.removeItem("token"),e.isAuthenticated=!1,e.token="",e.loading=!1,e.user={}}},extraReducers:(l={},Object(x.a)(l,q.fulfilled,function(e,t){localStorage.setItem("token",t.payload.data.token),localStorage.setItem("user",JSON.stringify(t.payload.data.user)),e.token=t.payload.data.token,e.isAuthenticated=!0,e.loading=!1}),Object(x.a)(l,H.pending,function(e,t){e.loading=!0}),Object(x.a)(l,H.fulfilled,function(e,t){e.loading=!1,e.user=t.payload}),l)}),Y=G.actions.logoutUser,$=G.reducer,K=function(){var e=Object(d.b)(),t=Object(d.c)(function(e){return e.auth.token});return m.a.createElement("nav",{className:"w-full flex items-center justify-between py-3 px-3.5 border-b border-gray-200"},m.a.createElement("div",{className:"text-3xl nav-brand font-grand-hotel "},m.a.createElement(z.b,{to:"/"},"Instagram")),m.a.createElement("ul",{className:"flex items-center gap-4 nav-items "},m.a.createElement("li",{className:"text-xl cursor-pointer nav-item"},m.a.createElement(z.b,{to:"/"}," ",m.a.createElement(U.b,null))),""!==t?m.a.createElement(m.a.Fragment,null,m.a.createElement("li",{className:"mt-1 text-xl cursor-pointer nav-item",onClick:function(){console.log("working"),e(Y())}},m.a.createElement(D.a,null)),m.a.createElement("li",{className:"text-xl cursor-pointer nav-item"},m.a.createElement(z.b,{to:"/profile"}," ",m.a.createElement(Z.a,null)))):m.a.createElement(m.a.Fragment,null,m.a.createElement("li",{className:"text-xl cursor-pointer nav-item"},m.a.createElement(z.b,{to:"/login"},m.a.createElement(W.a,null))),m.a.createElement("li",{className:"text-xl cursor-pointer nav-item"},m.a.createElement(z.b,{to:"/signup"},m.a.createElement(Z.b,null))))))},Q=a(28),X=function(){var e=Object(p.g)(),t=Object(d.c)(function(e){return e.auth});Object(s.useEffect)(function(){t.isAuthenticated&&e.push("/")},[t.isAuthenticated]);var a=Object(d.b)(),n=Object(Q.a)({initialValues:{email:"",password:""},validate:function(e){var t={};return e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Email is required",e.password?e.password.length<6&&(t.password="Must be 6 characters or more"):t.password="Required",t},onSubmit:function(e){a(q(e))}});return m.a.createElement("form",{onSubmit:n.handleSubmit,className:"grid grid-cols-1 mt-4"},m.a.createElement("input",{type:"email",name:"email",id:"email",onChange:n.handleChange,value:n.values.email,className:"form-control",placeholder:"Email"}),n.errors.email?m.a.createElement("div",{className:"w-2/3 mx-auto text-xs text-red-600"},n.errors.email):null,m.a.createElement("input",{type:"password",name:"password",id:"password",onChange:n.handleChange,value:n.values.password,className:"form-control",placeholder:"Password"}),n.errors.password?m.a.createElement("div",{className:"w-2/3 mx-auto text-xs text-red-600"},n.errors.password):null,m.a.createElement("button",{type:"submit",className:"w-3/4 py-1 mx-auto mt-4 text-white bg-blue-300 rounded-sm cursor-pointer hover:bg-instablue-default"},"Login"),m.a.createElement("div",{className:"mt-4 text-center text-gray-500"},"OR"),m.a.createElement("div",{className:"flex items-center justify-center mt-5 font-medium text-blue-900 text-md"},m.a.createElement(U.a,{className:"text-xl"}),m.a.createElement(z.b,{to:"/",className:"text-center"},"Log in with Facebook")),m.a.createElement("div",{className:"mt-3 text-sm text-center text-blue-900"},m.a.createElement(z.b,{to:"/"},"Forgot Password?")))},ee=function(){return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"mx-auto mt-8 border border-gray-200 card"},m.a.createElement("h1",{className:"pt-6 text-5xl text-center font-grand-hotel"},"Instagram"),m.a.createElement(X,null)),m.a.createElement("div",{className:"flex items-center justify-center mx-auto mt-3 text-sm border border-gray-200 smallcard"},m.a.createElement("span",{className:"font-light "},"Don't have an account?"),m.a.createElement(z.b,{to:"/signup",className:"ml-2 text-blue-900"},"Signup")))},te=Object(v.b)("/api/users",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,r,l,c,o,s;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},n=t.name,r=t.email,l=t.password,c=JSON.stringify({name:n,email:r,password:l}),e.next=5,w.a.post("/api/users",c,a);case 5:return o=e.sent,s={msg:o.data.message,values:t},e.abrupt("return",s);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),ae=Object(v.b)("getuserdetails",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=function(e){e?w.a.defaults.headers.common["x-auth-token"]=e:delete w.a.defaults.headers.common["x-auth-token"]},localStorage.token&&a(localStorage.token),e.next=5,w.a.get("/api/auth/user/".concat(t));case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message),console.log("Cannot fetch the user!");case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()),ne=Object(v.b)("followuser",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,r,l,c,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/json"}},n=function(e){e?w.a.defaults.headers.common["x-auth-token"]=e:delete w.a.defaults.headers.common["x-auth-token"]},localStorage.token&&n(localStorage.token),r=t.id,l=t.name,c=JSON.stringify({name:l}),e.next=8,w.a.put("/api/auth/follow/".concat(r),c,a);case 8:return o=e.sent,e.abrupt("return",o.data);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0.message),console.log("Cannot follow user");case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()),re=Object(v.b)("unfollowuser",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=function(e){e?w.a.defaults.headers.common["x-auth-token"]=e:delete w.a.defaults.headers.common["x-auth-token"]},localStorage.token&&a(localStorage.token),e.next=5,w.a.put("/api/auth/unfollow/".concat(t));case 5:return n=e.sent,e.abrupt("return",n.data);case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0.message),console.log("Cannot follow user");case 13:case"end":return e.stop()}},e,null,[[0,9]])}));return function(t){return e.apply(this,arguments)}}()),le=Object(v.b)("getfollowdata",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,r,l,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=function(e){e?w.a.defaults.headers.common["x-auth-token"]=e:delete w.a.defaults.headers.common["x-auth-token"]},localStorage.token&&a(localStorage.token),e.next=5,w.a.get("/api/auth/followers/".concat(t));case 5:return n=e.sent,r=n.data,e.next=9,w.a.get("/api/auth/following/".concat(t));case 9:return l=e.sent,c=l.data,e.abrupt("return",{followers:r,following:c});case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0.message),console.log("Couldn't fetch user follow/unfollow data!");case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t){return e.apply(this,arguments)}}()),ce=Object(v.c)({name:"users",initialState:{isAuthenticated:!1,loading:!0,user:{},message:""},reducers:{},extraReducers:(c={},Object(x.a)(c,te.fulfilled,function(e,t){e.isAuthenticated=!0,e.loading=!1,e.user=t.payload.values,e.message=t.payload.msg}),Object(x.a)(c,ae.pending,function(e,t){e.loading=!0}),Object(x.a)(c,ae.fulfilled,function(e,t){e.loading=!1,e.message="User fetched!",e.user=t.payload}),Object(x.a)(c,le.fulfilled,function(e,t){e.loading=!1,e.message="Fetched user follow data"}),Object(x.a)(c,ne.pending,function(e,t){e.loading=!0}),Object(x.a)(c,re.pending,function(e,t){e.loading=!0}),Object(x.a)(c,ne.fulfilled,function(e,t){e.loading=!1}),Object(x.a)(c,re.fulfilled,function(e,t){e.loading=!1}),c)}).reducer,oe=function(){var e=Object(d.b)(),t=Object(Q.a)({initialValues:{name:"",email:"",password:""},validate:function(e){var t={};return e.name?e.name.length>15&&(t.name="Must be 15 characters or less"):t.name="Please enter a name",e.password?e.password.length>20?t.password="Must be 20 characters or less":e.password.length<6&&(t.password="Must be 6 characters or more"):t.password="Please enter a password",e.email?/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)||(t.email="Invalid email address"):t.email="Please enter a email",t},onSubmit:function(t){e(te(t))}});return m.a.createElement("form",{onSubmit:t.handleSubmit,action:"",className:"grid grid-cols-1 mt-4"},m.a.createElement("input",{type:"email",name:"email",id:"email",onChange:t.handleChange,value:t.values.email,className:"form-control",placeholder:"Email"}),t.errors.email?m.a.createElement("div",{className:"w-2/3 mx-auto text-xs text-red-600"},t.errors.email):null,m.a.createElement("input",{type:"text",name:"name",id:"name",onChange:t.handleChange,value:t.values.name,className:"form-control",placeholder:"Name"}),t.errors.name?m.a.createElement("div",{className:"w-2/3 mx-auto text-xs text-red-600"},t.errors.name):null,m.a.createElement("input",{type:"password",name:"password",id:"password",onChange:t.handleChange,value:t.values.password,className:"form-control",placeholder:"Password"}),t.errors.password?m.a.createElement("div",{className:"w-2/3 mx-auto text-xs text-red-600"},t.errors.password):null,m.a.createElement("button",{type:"submit",className:"w-3/4 py-1 mx-auto mt-4 text-white bg-blue-300 rounded-sm cursor-pointer hover:bg-instablue-default"},"Sign Up"),m.a.createElement("span",{className:"w-3/4 mx-auto mt-4 text-xs font-medium text-center text-gray-500"},"By signing up, you agree to our"," ",m.a.createElement("strong",null," Terms , Data Policy and Cookies Policy .")))},se=function(){var e=Object(d.c)(function(e){return e.users.message});return m.a.createElement(m.a.Fragment,null,m.a.createElement("div",{className:"mx-auto mt-8 border border-gray-200 largecard"},""!==e?m.a.createElement("div",{className:"w-full mt-2 mb-2 text-white bg-blue-500"},e):"",m.a.createElement("h1",{className:"pt-6 text-5xl text-center font-grand-hotel"},"Instagram"),m.a.createElement("h2",{className:"w-3/4 mx-auto mt-4 font-bold text-center text-gray-500 text-md"},"Sign up to see photos and videos from your friends."),m.a.createElement("div",{className:"flex items-center justify-center w-3/4 py-1 mx-auto mt-5 font-medium text-white rounded-sm bg-instablue-default text-md"},m.a.createElement(U.a,{className:"text-xl"}),m.a.createElement(z.b,{to:"/",className:"text-center"},"Log in with Facebook")),m.a.createElement("div",{className:"mt-4 text-center text-gray-500"},"OR"),m.a.createElement(oe,{getMsg:function(e){console.log(e)}})),m.a.createElement("div",{className:"flex items-center justify-center mx-auto mt-3 text-sm border border-gray-200 smallcard"},m.a.createElement("span",null,"Have an account?"),m.a.createElement(z.b,{to:"/login",className:"ml-2 text-blue-900"},"Login")))},me=a(33),ie=function(){var e=Object(s.useState)([]),t=Object(h.a)(e,2),a=t[0],n=t[1],r=Object(d.b)(),l=function(){var e=Object(b.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=t.target.files[0],console.log("originalFile instanceof Blob",a instanceof Blob),console.log("originalFile size ".concat(a.size/1024/1024," MB")),n(a);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),c=Object(Q.a)({initialValues:{file:"",title:"",body:""},validate:function(e){var t={};return e.title||(t.title="Title is required"),e.body||(t.body="Caption is required"),0===a.length&&(t.file="Please select a pic"),t},onSubmit:function(e){Object(b.a)(g.a.mark(function t(){var n,l,c,o,s,m;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Compression started"),n={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},t.prev=2,t.next=5,Object(me.a)(a,n);case 5:l=t.sent,console.log("compressedFile instanceof Blob",l instanceof Blob),console.log("compressedFile size ".concat(l.size/1024/1024," MB")),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0);case 13:return console.log("Compressed"),console.log(l),t.next=17,r(y(l));case 17:c=t.sent,o=c.payload.secure_url,console.log("Uploaded to Cloudinary"),s=e.title,m=e.body,r(j({title:s,body:m,link:o}));case 23:case"end":return t.stop()}},t,null,[[2,10]])}))()}});return m.a.createElement("form",{onSubmit:c.handleSubmit},m.a.createElement("h1",{className:"pt-6 text-5xl text-center font-grand-hotel"},"New Post"),m.a.createElement("div",{className:"text-center"},m.a.createElement("input",{type:"text",name:"title",id:"title",placeholder:"Enter a title",onChange:c.handleChange,value:c.values.title,className:"form-control"}),c.errors.title?m.a.createElement("div",{className:"w-2/3 mx-auto text-xs text-left text-red-600"},c.errors.title):null,m.a.createElement("input",{type:"text",name:"body",id:"body",placeholder:"Enter a caption",onChange:c.handleChange,value:c.values.body,className:"form-control"}),c.errors.body?m.a.createElement("div",{className:"w-2/3 mx-auto text-xs text-left text-red-600"},c.errors.body):null,m.a.createElement("input",{type:"file",name:"file",accept:"image/*",id:"file",onChange:l,className:"form-control"}),c.errors.file?m.a.createElement("div",{className:"w-2/3 mx-auto text-xs text-left text-red-600"},c.errors.file):null,m.a.createElement("button",{type:"submit",className:"w-3/4 py-1 mx-auto mt-4 text-white bg-blue-300 rounded-sm cursor-pointer hover:bg-instablue-default"},"Upload")))},ue=function(){var e=Object(d.b)(),t=Object(d.c)(function(e){return e.posts.loading}),a=Object(s.useRef)(null),n=Object(d.c)(function(e){return e.posts.alertMessage});console.log(t);return Object(s.useEffect)(function(){window.scroll(0,0)},[]),t?m.a.createElement("div",{className:"flex items-center justify-center h-full "},m.a.createElement(V,null)):m.a.createElement("div",{className:"h-screen "},m.a.createElement("div",{className:"mx-auto mt-8 border border-gray-200 card"},""!==n?m.a.createElement("div",{ref:a,className:"py-4 text-center text-white bg-blue-300"},n," ",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;setTimeout(function(){null!==e.current&&(e.current.style.display="none")},t)}(a),void setTimeout(function(){e(C())},2e3)):"",m.a.createElement(ie,null)))},de=a(55),pe=function(){return m.a.createElement("div",{className:"sticky bottom-0 flex items-center justify-center object-bottom w-full h-12 bg-white border-t "},m.a.createElement(z.b,{to:"/add_post",className:"text-3xl"},m.a.createElement(de.a,null)))},fe=function(e){var t=e.name,a=e.text,n=e.p_id,r=e.id,l=Object(d.c)(function(e){return e.auth.user}),c=Object(d.c)(function(e){return e.comments.loading}),o=Object(d.b)();return c?m.a.createElement("div",{className:"flex items-center justify-center h-screen mb-16 "},m.a.createElement(V,null)):m.a.createElement("div",{className:"flex items-start mx-2 mb-3 md:mx-8 md:my-10 md:mb-8 align-center"},m.a.createElement("h4",{className:"mr-3"},m.a.createElement("strong",null,t)),m.a.createElement("div",{className:"grid grid-cols-2 gap-0"},m.a.createElement("p",null,a),t===l.name?m.a.createElement("button",{onClick:function(){o(P({id:{p_id:n},comment_id:{id:r}}))},className:"w-12 ml-4 text-white bg-blue-300 hover:bg-instablue-default"},m.a.createElement("small",null,"Delete")):""))},ge=function(e){var t=Object(d.b)(),a=e.match.params.id,n=Object(d.c)(function(e){return e.comments}),r=n.comments,l=n.loading,c=Object(s.useState)([]),o=Object(h.a)(c,2)[1];return Object(s.useEffect)(function(){t(L(a))},[t]),Object(s.useEffect)(function(){window.scroll(0,0),o(r)},[r]),l?m.a.createElement("div",{className:"flex items-center justify-center h-screen "},m.a.createElement(V,null)):m.a.createElement("div",{className:"h-screen md:max-w-xs md:mx-auto "},m.a.createElement("div",{className:"mt-3 md:border min-h-46"},r.map(function(e){return m.a.createElement(fe,{name:e.name,text:e.text,p_id:a,id:e._id,key:e.text})})))},be=Object(v.b)("/cloudinary/pp",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t),a.append("upload_preset","insta_clone"),a.append("folder","profilepics"),delete w.a.defaults.headers.common["x-auth-token"],n={headers:{"Content-Type":"application/json"}},"https://api.cloudinary.com/v1_1/duuo1ctgy/image/upload",e.prev=7,e.next=10,w.a.post("https://api.cloudinary.com/v1_1/duuo1ctgy/image/upload",a,n);case 10:return r=e.sent,e.abrupt("return",r.data);case 14:e.prev=14,e.t0=e.catch(7),console.log(e.t0),console.log("Failed to upload");case 18:case"end":return e.stop()}},e,null,[[7,14]])}));return function(t){return e.apply(this,arguments)}}()),he=Object(v.b)("/updateprofile",function(){var e=Object(b.a)(g.a.mark(function e(t){var a,n,r,l,c,o,s,m,i,u,d,p,f;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=t._id,n=t.name,r=t.email,l=t.username,c=t.bio,o=t.gender,s=t.website,m=t.phone,i=t.profilepic,u=JSON.stringify({name:n,email:r,username:l,bio:c,website:s,gender:o,phone:m,profilepic:i}),d={headers:{"Content-Type":"application/json"}},p=function(e){e?w.a.defaults.headers.common["x-auth-token"]=e:delete w.a.defaults.headers.common["x-auth-token"]},localStorage.token&&p(localStorage.token),e.next=8,w.a.patch("/api/auth/editprofile/".concat(a),u,d);case 8:return f=e.sent,e.abrupt("return",f.data);case 12:e.prev=12,e.t0=e.catch(0),console.error(e.t0),console.log("Failed to update the profile");case 16:case"end":return e.stop()}},e,null,[[0,12]])}));return function(t){return e.apply(this,arguments)}}()),xe=Object(v.b)("getmyposts",Object(b.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/api/posts/myposts");case 3:return t=e.sent,e.abrupt("return",t.data);case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),console.log("Couldn't fetch your posts");case 11:case"end":return e.stop()}},e,null,[[0,7]])}))),ve=Object(v.c)({name:"profile",initialState:{loading:!1,message:"",response:{},userposts:[]},reducers:{},extraReducers:(o={},Object(x.a)(o,he.fulfilled,function(e,t){e.loading=!1,e.message="Profile updatedd!",e.response=t.payload}),Object(x.a)(o,be.fulfilled,function(e,t){e.loading=!1}),Object(x.a)(o,xe.fulfilled,function(e,t){e.loading=!1,e.userposts=t.payload,e.message="Fetched your posts!"}),o)}),Ee=(ve.reducer,function(){var e=Object(d.b)();Object(s.useEffect)(function(){e(H()),e(xe())},[]);var t=Object(d.c)(function(e){return e.auth.user}),a=Object(d.c)(function(e){return e.profile.userposts}),n=t.name,r=t.username,l=t.bio,c=t.profilepic;return m.a.createElement("div",{className:"min-h-screen"},m.a.createElement("div",{className:"grid grid-cols-3 px-4 mt-10 sm:grid-cols-6 name_section md:items-start md:grid-cols-9 md:h-12"},m.a.createElement("div",{className:"w-full col-start-1 col-end-2 image md:col-end-3"},m.a.createElement("img",{src:c,alt:"",className:"w-20 h-20 rounded-full md:w-32 md:h-32"})),m.a.createElement("div",{className:"col-span-2 col-end-4 edit sm:col-start-2 sm:col-end-7 md:flex md:items-center md:gap-6 md:col-start-3"},m.a.createElement("div",{className:"text-xl name md:text-2xl"}," ",r),m.a.createElement("div",{className:"mt-4 edit_profile md:mt-0 "},m.a.createElement("button",{className:"w-full border rounded-sm md:px-3 font-regular md:min-w-1/5 md:max-w-2/5"},m.a.createElement(z.b,{to:"/editprofile"}," Edit Profile"))))),m.a.createElement("div",{className:"items-center hidden py-4 mt-6 text-center border-t border-b md:flex showcase_section md:w-1/3 md:ml-48 md:py-2 md:border-0 md:mt-2 md:mb-4 lg:pl-2 xl:ml-60 2xl:ml-72 2xl:pl-0"},m.a.createElement("div",{className:"w-1/3 posts"},m.a.createElement("strong",null," 30"),m.a.createElement("br",null),"posts"),m.a.createElement("div",{className:"w-1/3 followers"},m.a.createElement("strong",null," 65"),m.a.createElement("br",null),"followers"),m.a.createElement("div",{className:"w-1/3 following"},m.a.createElement("strong",null," 61"),m.a.createElement("br",null),"following")),m.a.createElement("div",{className:"px-4 mt-4 xl:w-2/3 info_section md:ml-52 md:mt-0 lg:ml-52 lg:pl-6 xl:ml-64 xl:pl-8 2xl:ml-80 2xl:pl-6"},m.a.createElement("div",{className:"name"},m.a.createElement("strong",null,n)," "),m.a.createElement("div",{className:"about"},l)),m.a.createElement("div",{className:"flex items-center py-4 mt-6 text-center border-t border-b showcase_section md:hidden"},m.a.createElement("div",{className:"w-1/3 posts"},m.a.createElement("strong",null," 30"),m.a.createElement("br",null),"posts"),m.a.createElement("div",{className:"w-1/3 followers"},m.a.createElement("strong",null," 65"),m.a.createElement("br",null),"followers"),m.a.createElement("div",{className:"w-1/3 following"},m.a.createElement("strong",null," 61"),m.a.createElement("br",null),"following")),m.a.createElement("div",{className:"grid grid-cols-3 gap-1 mx-auto mt-8 images-section h-72 md:mt-32 md:h-80 md:grid-cols-4 "},a.map(function(e){var t=e.image;return m.a.createElement("div",{className:"flex items-center justify-center md:w-56 img-compt h-72"},m.a.createElement("img",{src:t,alt:"",className:"h-72 md:h-80",key:t}))})))}),we=a(25),ye=function(){var e=Object(d.b)(),t=Object(p.g)();Object(s.useEffect)(function(){e(H())},[]);var a=Object(d.c)(function(e){return e.auth.user}),n=a.name,r=a.phone,l=a.profilepic,c=a.email,o=a.username,i=a.website,u=a.bio,f=a.gender,v=a._id,E=Object(s.useState)({}),w=Object(h.a)(E,2),y=w[0],j=w[1],O=Object(s.useState)({}),N=Object(h.a)(O,2),k=N[0],S=N[1],C=Object(s.useState)(null),_=Object(h.a)(C,2),F=_[0],M=_[1],L=function(e){j(Object(we.a)({},y,Object(x.a)({},e.target.name,e.target.value)))},P=function(){var n=Object(b.a)(g.a.mark(function n(){var r;return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:Object(b.a)(g.a.mark(function n(){var l,c,o,s,m;return g.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(m=function(){for(var e in s)void 0===s[e]&&(s=Object(we.a)({},s,Object(x.a)({},e,a[e])))},null===F){n.next=22;break}return console.log("Compression started"),l={maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0},n.prev=4,n.next=7,Object(me.a)(F,l);case 7:c=n.sent,console.log("compressedFile instanceof Blob",c instanceof Blob),console.log("compressedFile size ".concat(c.size/1024/1024," MB")),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(4),console.log(n.t0);case 15:return console.log("Compressed"),console.log(c),n.next=19,e(be(c));case 19:o=n.sent,r=o.payload.secure_url,console.log("Uploaded to Cloudinary");case 22:if(s={name:y.name,email:y.email,username:y.username,bio:y.bio,website:y.website,gender:y.gender,phone:y.phone},""===y.name?(k.name="Name cannot be empty",S(Object(we.a)({},k))):(k.name="",S(Object(we.a)({},k))),""===y.email?(k.email="Email cannot be empty",S(Object(we.a)({},k))):(k.email="",S(Object(we.a)({},k))),""!==k.name||""!==k.email){n.next=32;break}return m(),s=Object(we.a)({},s,{_id:v,profilepic:r}),n.next=29,e(he(s));case 29:t.push("/profile"),n.next=33;break;case 32:console.log("Cant proceed");case 33:case"end":return n.stop()}},n,null,[[4,12]])}))();case 1:case"end":return n.stop()}},n)}));return function(){return n.apply(this,arguments)}}();return m.a.createElement("div",{className:"min-h-screen pt-6 mt-8 border-t md:border-t-0 md:w-2/3 md:mx-auto"},m.a.createElement("div",{className:"grid items-center grid-cols-9 image_editing "},m.a.createElement("div",{className:"col-start-1 col-end-3 px-3 "},m.a.createElement("img",{src:l,alt:"",className:"rounded-full w-14 h-14"})),m.a.createElement("div",{className:"col-start-3 col-end-11 sm:ml-0 name"},m.a.createElement("p",{className:"text-lg"}," shakran._.bhat"),m.a.createElement("input",{type:"file",className:"text-sm font-medium text-instablue-default",onChange:function(e){console.log(e.target.files);var t=e.target.files[0];console.log("originalFile instanceof Blob",t instanceof Blob),console.log("originalFile size ".concat(t.size/1024/1024," MB")),M(t)}}))),m.a.createElement("div",{className:"w-3/4 "},m.a.createElement("div",{className:"grid items-center grid-cols-1 mx-4 mt-8 name_edit md:grid-cols-6"},m.a.createElement("label",{htmlFor:"name",className:"font-medium text-md md:col-start-1 md:col-end-2"},"Name"),m.a.createElement("input",{type:"text",name:"name",defaultValue:n,onChange:L,className:"px-4 py-1 border md:col-start-2 md:col-end-7"}),k.name&&k.name.length>0?m.a.createElement("div",{className:"text-xs text-red-500"},k.name):"",m.a.createElement("p",{className:"mt-4 leading-3 text-gray-500 md:col-start-1 md:col-end-7"},m.a.createElement("small",null,"Help people discover your account by using the name you're known by: either your full name, nickname, or business name.",m.a.createElement("br",null),"You can only change your name twice within 14 days."))),m.a.createElement("div",{className:"grid items-center grid-cols-1 mx-4 mt-8 name_edit md:grid-cols-6 md:gap-x-20"},m.a.createElement("label",{htmlFor:"username",className:"font-medium text-md md:col-start-1 md:col-end-2"},"Username"),m.a.createElement("input",{type:"text",name:"username",defaultValue:o,onChange:L,className:"px-4 py-1 border md:col-start-2 md:col-end-7"}),m.a.createElement("p",{className:"mt-4 leading-3 text-gray-500 md:col-start-1 md:col-end-7"},m.a.createElement("small",null,"In most cases, you'll be able to change your username back to shakran._.bhat for another 14 days. Learn More"))),m.a.createElement("div",{className:"grid items-center grid-cols-1 mx-4 mt-8 name_edit md:grid-cols-6"},m.a.createElement("label",{htmlFor:"webiste",className:"font-medium text-md md:col-start-1 md:col-end-2"},"Website"),m.a.createElement("input",{type:"text",name:"website",defaultValue:i,onChange:L,className:"px-4 py-1 border md:col-start-2 md:col-end-7"})),m.a.createElement("div",{className:"grid items-center grid-cols-1 mx-4 mt-8 name_edit md:grid-cols-6"},m.a.createElement("label",{htmlFor:"bio",className:"font-medium text-md md:col-start-1 md:col-end-2"},"Bio"),m.a.createElement("textarea",{name:"bio",defaultValue:u,onChange:L,className:"px-4 py-1 border md:col-start-2 md:col-end-7"})),m.a.createElement("div",{className:"grid items-center grid-cols-1 mx-4 mt-8 name_edit"},m.a.createElement("h3",{className:"text-gray-500 "},"Personal Information"),m.a.createElement("p",{className:"mt-2 leading-3 text-gray-500 md:col-start-1 md:col-end-7"},m.a.createElement("small",null,"Provide your personal information, even if the account is used for a business, a pet or something else. This won't be a part of your public profile."))),m.a.createElement("div",{className:"grid items-center grid-cols-1 gap-2 mx-4 mt-8 name_edit md:grid-cols-6 md:items-center"},m.a.createElement("label",{htmlFor:"email",className:"font-medium text-md md:col-start-1 md:col-end-2"},"Email"),m.a.createElement("input",{type:"text",name:"email",defaultValue:c,onChange:L,className:"px-4 py-1 border md:col-start-2 md:col-end-7"}),k.email&&k.email.length>0?m.a.createElement("div",{className:"text-xs text-red-500"},k.email):"",m.a.createElement("label",{htmlFor:"phone",className:"mt-3 font-medium text-md md:col-start-1 md:col-end-2"},"Phone Number"),m.a.createElement("input",{type:"text",name:"phone",defaultValue:r,onChange:L,className:"px-4 py-1 border md:h-2/3 md:col-start-2 md:col-end-7"}),m.a.createElement("label",{htmlFor:"gender",className:"mt-3 font-medium text-md md:col-start-1 md:col-end-2"},"Gender"),m.a.createElement("input",{type:"text",name:"gender",defaultValue:f,onChange:L,className:"px-4 py-1 capitalize border md:col-start-2 md:col-end-7"})),m.a.createElement("div",{className:"mx-4 mt-8 mb-3 name_edit md:grid-cols-6"},m.a.createElement("button",{onClick:P,className:"px-3 py-1 text-sm font-medium text-white bg-blue-300 rounded"},"Submit"))))},je=function(e){var t,a,n=Object(d.b)(),r=Object(p.g)(),l=Object(s.useState)(!0),c=Object(h.a)(l,2),o=c[0],i=c[1];Object(s.useEffect)(Object(b.a)(g.a.mark(function r(){var l;return g.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!o){r.next=6;break}return r.next=3,n(ae(e.match.params.id));case 3:l=JSON.stringify(v),t=JSON.parse(l),a=t.name;case 6:return r.abrupt("return",function(){i(!1)});case 7:case"end":return r.stop()}},r)})),[]);var u=Object(d.c)(function(e){return e.auth.loading}),f=Object(d.c)(function(e){return e.users.user}),x=Object(d.c)(function(e){return e.users.loading}),v=Object(d.c)(function(e){return e.auth.user}),E=f.name,w=f.bio,y=f.username,j=f.followers,O=f.following,N=f.profilepic,k=function(){if(Object.keys(f).length>0)return f.followers.filter(function(e){return e.name===a}).length>0?(console.log(!0),!0):(console.log(!1),!1)};k();var S=function(){var t=Object(b.a)(g.a.mark(function t(){var l;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l={id:e.match.params.id,name:a},!k()){t.next=7;break}return t.next=4,n(re(l.id));case 4:r.go(0),t.next=10;break;case 7:return t.next=9,n(ne(l));case 9:r.go(0);case 10:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return u&x?m.a.createElement("div",{className:"flex items-center justify-center h-screen "},m.a.createElement(V,null)):m.a.createElement("div",{className:"min-h-screen"},m.a.createElement("div",{className:"grid grid-cols-3 px-4 mt-10 sm:grid-cols-6 name_section md:items-start md:grid-cols-9 md:h-12"},m.a.createElement("div",{className:"w-full col-start-1 col-end-2 image md:col-end-3"},m.a.createElement("img",{src:N,alt:"",className:"w-20 h-20 rounded-full md:w-32 md:h-32"})),m.a.createElement("div",{className:"col-span-2 col-end-4 edit sm:col-start-2 sm:col-end-7 md:flex md:items-center md:gap-6 md:col-start-3"},m.a.createElement("div",{className:"text-xl name md:text-2xl"}," ",y),m.a.createElement("div",{className:"flex items-center gap-4 mt-4 edit_profile md:mt-0"},m.a.createElement("button",{className:"w-full border rounded-sm md:px-3 font-regular md:min-w-1/5 md:max-w-2/5"},m.a.createElement(z.b,{to:"/message"}," Message")),!1===k()?m.a.createElement("button",{onClick:S,className:"w-full ml-1 text-white bg-blue-300 rounded-sm hover:bg-instablue-default md:px-3 font-regular md:min-w-1/5 md:max-w-2/5"},"Follow"):m.a.createElement("button",{onClick:S,className:"w-full ml-1 text-white rounded-sm hover:bg-blue-300 bg-instablue-default md:px-3 font-regular md:min-w-1/5 md:max-w-2/5"},"Unfollow")))),m.a.createElement("div",{className:"px-4 mt-4 xl:w-2/3 info_section md:ml-52 md:mt-0 lg:ml-52 lg:pl-6 xl:ml-64 xl:pl-8 2xl:ml-80 2xl:pl-6"},m.a.createElement("div",{className:"name"},m.a.createElement("strong",null,E)," "),m.a.createElement("div",{className:"about"},w)),m.a.createElement("div",{className:"flex items-center py-4 mt-6 text-center border-t border-b showcase_section md:hidden"},m.a.createElement("div",{className:"w-1/3 posts"},m.a.createElement("strong",null," 30"),m.a.createElement("br",null),"posts"),m.a.createElement("div",{className:"w-1/3 followers"},m.a.createElement("strong",null," ",j.length),m.a.createElement("br",null),"followers"),m.a.createElement("div",{className:"w-1/3 following"},m.a.createElement("strong",null," ",O.length),m.a.createElement("br",null),"following")),m.a.createElement("div",{className:"grid grid-cols-3 gap-1 mx-auto mt-8 images-section h-72 md:mt-32 md:h-80 md:grid-cols-4 "}))};var Oe=function(){var e;return""!==Object(d.c)(function(e){return e.auth}).token?e=!0:(e=!1,console.log("not auth")),m.a.createElement("div",{className:"mx-auto App lg:container"},m.a.createElement(K,null),m.a.createElement(p.d,null,m.a.createElement(p.b,{exact:!0,path:"/",render:function(){return e?m.a.createElement(J,null):m.a.createElement(ee,null)}}),m.a.createElement(p.b,{path:"/login",render:function(){return e?m.a.createElement(p.a,{to:"/"}):m.a.createElement(ee,null)}}),m.a.createElement(p.b,{path:"/signup",component:se}),m.a.createElement(p.b,{path:"/add_post",render:function(){return e?m.a.createElement(ue,null):m.a.createElement(p.a,{to:"/login"})}}),m.a.createElement(p.b,{path:"/viewcomments/:id",render:function(t){return e?m.a.createElement(ge,t):m.a.createElement(p.a,{to:"/login"})}}),m.a.createElement(p.b,{path:"/profile",render:function(t){return e?m.a.createElement(Ee,t):m.a.createElement(p.a,{to:"/login"})}}),m.a.createElement(p.b,{path:"/editprofile",render:function(t){return e?m.a.createElement(ye,t):m.a.createElement(p.a,{to:"/login"})}}),m.a.createElement(p.b,{path:"/user/:id",render:function(t){return e?m.a.createElement(je,t):m.a.createElement(p.a,{to:"/login"})}})),e?m.a.createElement(pe,null):"")},Ne=Object(v.a)({reducer:{users:ce,auth:$,posts:S.reducer,comments:B.reducer,profile:ve.reducer},customizedMiddleware:Object(v.d)({serializableCheck:!1})});u.a.render(m.a.createElement(z.a,null,m.a.createElement(d.a,{store:Ne},m.a.createElement(Oe,null))),document.getElementById("root"))}},[[56,1,2]]]);
//# sourceMappingURL=main.56e4d15a.chunk.js.map